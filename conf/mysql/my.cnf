# For advice on how to change settings please see
# http://dev.mysql.com/doc/refman/5.6/en/server-configuration-defaults.html
# *** DO NOT EDIT THIS FILE. It's a template which will be copied to the
# *** default location during install, and will be replaced if you
# *** upgrade to a newer version of MySQL.

#mysql客户端
[client]
port=3306
socket=/tmp/mysql.sock
default-character-set=utf8mb4
 
#mysql服务端
[mysqld]
port=3306
pid-file=/usr/local/mysql/data/mysql.pid
socket=/tmp/mysql.sock
default-storage-engine=InnoDB
explicit_defaults_for_timestamp
log-error=/weblog/mysql/mysql_error.log 
#注意根据自己服务器的空闲内存来调整，阿里云1G如果超过100MB在
#阿里云盾升级的时候会因为内存占用过多而挂掉
innodb_buffer_pool_size=45M 
#开启查询缓存 5.6mysql默认没有开启查询缓存，如果没有加查询缓存，sphinx 运行会报错
query_cache_type=1
#缓存32M
query_cache_size=32M
#在一次性导入大量数据的时候，经常会出现MySQL Server has gone away这样的错误设置该值
max_allowed_packet=56M

character-set-client-handshake=FALSE
character-set-server=utf8mb4
collation-server=utf8mb4_general_ci
init_connect='SET NAMES utf8mb4'

[mysql]
default-character-set=utf8mb4

[mysqldump]
user=root
password=root
#不要在将内存中的整个结果写入磁盘之前缓存. 在导出非常巨大的表时需要此项
quick
max_allowed_packet = 32M
# Remove leading # and set to the amount of RAM for the most important data
# cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.
# innodb_buffer_pool_size = 128M

# Remove leading # to turn on a very important data integrity option: logging
# changes to the binary log between backups.
# log_bin

# These are commonly set, remove the # and set as required.
# basedir = .....
# datadir = .....
# port = .....
# server_id = .....
# socket = .....

# Remove leading # to set options mainly useful for reporting servers.
# The server defaults are faster for transactions and fast SELECTs.
# Adjust sizes as needed, experiment to find the optimal values.
# join_buffer_size = 128M
# sort_buffer_size = 2M
# read_rnd_buffer_size = 2M 

#sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES 
